# SPDX-FileCopyrightText: 2020 AJCM-git
# SPDX-FileCopyrightText: 2020 DrSmugleaf
# SPDX-FileCopyrightText: 2020 Hugo Laloge
# SPDX-FileCopyrightText: 2020 Pieter-Jan Briers
# SPDX-FileCopyrightText: 2020 Swept
# SPDX-FileCopyrightText: 2020 Víctor Aguilera Puerto
# SPDX-FileCopyrightText: 2020 py01
# SPDX-FileCopyrightText: 2021 Galactic Chimp
# SPDX-FileCopyrightText: 2021 Paul Ritter
# SPDX-FileCopyrightText: 2022 Emisse
# SPDX-FileCopyrightText: 2022 Fishfish458
# SPDX-FileCopyrightText: 2022 Peptide90
# SPDX-FileCopyrightText: 2022 Rane
# SPDX-FileCopyrightText: 2022 Scribbles0
# SPDX-FileCopyrightText: 2022 T-Stalker
# SPDX-FileCopyrightText: 2022 Visne
# SPDX-FileCopyrightText: 2022 fishfish458 <fishfish458>
# SPDX-FileCopyrightText: 2022 keronshb
# SPDX-FileCopyrightText: 2023 IData-RedactedI
# SPDX-FileCopyrightText: 2023 Moony
# SPDX-FileCopyrightText: 2023 Nairod
# SPDX-FileCopyrightText: 2023 TaralGit
# SPDX-FileCopyrightText: 2023 and_a
# SPDX-FileCopyrightText: 2023 liltenhead
# SPDX-FileCopyrightText: 2023 lzk
# SPDX-FileCopyrightText: 2023 moonheart08
# SPDX-FileCopyrightText: 2024 Alzore
# SPDX-FileCopyrightText: 2024 Doomsdrayk
# SPDX-FileCopyrightText: 2024 Dvir
# SPDX-FileCopyrightText: 2024 ErhardSteinhauer
# SPDX-FileCopyrightText: 2024 Errant
# SPDX-FileCopyrightText: 2024 IProduceWidgets
# SPDX-FileCopyrightText: 2024 Kara
# SPDX-FileCopyrightText: 2024 Kesiath
# SPDX-FileCopyrightText: 2024 Nemanja
# SPDX-FileCopyrightText: 2024 Plykiya
# SPDX-FileCopyrightText: 2024 SonicHDC
# SPDX-FileCopyrightText: 2024 Whatstone
# SPDX-FileCopyrightText: 2024 metalgearsloth
# SPDX-FileCopyrightText: 2024 nikthechampiongr
# SPDX-FileCopyrightText: 2025 BramvanZijp
# SPDX-FileCopyrightText: 2025 Daniel Lenrd
# SPDX-FileCopyrightText: 2025 Eden077
# SPDX-FileCopyrightText: 2025 KiraZen_
# SPDX-FileCopyrightText: 2025 Redrover1760
# SPDX-FileCopyrightText: 2025 UltimateJester
# SPDX-FileCopyrightText: 2025 core-mene
# SPDX-FileCopyrightText: 2025 halycon
# SPDX-FileCopyrightText: 2025 starch
#
# SPDX-License-Identifier: AGPL-3.0-or-later

- type: entity
  name: 根射式基础手枪 丨 BasePistol
  parent: BaseItem
  id: BaseWeaponPistol
  description: 一把精准利落的指哪打哪点射手枪。 丨 A rooty tooty point and shooty.
  abstract: true
  components:
  - type: Sprite
    layers:
      - state: base
        map: ["enum.GunVisualLayers.Base"]
      - state: mag-0
        map: ["enum.GunVisualLayers.Mag"]
  - type: Item
    size: Small
    shape:
    - 0,0,1,0
    - 0,1,0,1
  - type: Tag
    tags:
    - Sidearm
  - type: Clothing
    sprite: Objects/Weapons/Guns/Pistols/viper.rsi
    quickEquip: false
    slots:
    - suitStorage
    - Belt
  - type: Gun
    fireRate: 6
    selectedMode: SemiAuto
    availableModes:
      - SemiAuto
      - FullAuto
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/pistol.ogg
    projectileSpeed: 40 # Mono
  - type: ChamberMagazineAmmoProvider
    soundRack:
      path: /Audio/Weapons/Guns/Cock/pistol_cock.ogg
  - type: ItemSlots
    slots:
      gun_magazine:
        name: 杂志 丨 Magazine
        startingItem: Magazine9x19mmPistolFMJ
        insertSound: /Audio/Weapons/Guns/MagIn/pistol_magin.ogg
        ejectSound: /Audio/Weapons/Guns/MagOut/pistol_magout.ogg
        priority: 2
        whitelist:
          tags:
            - Magazine9x19mmPistolFMJ
        whitelistFailPopup: gun-magazine-whitelist-fail
      gun_chamber:
        name: 腔室 丨 Chamber
        startingItem: Cartridge9x19mmFMJ
        priority: 1
        whitelist:
          tags:
            - Cartridge9x19mmFMJ
  - type: ContainerContainer
    containers:
      gun_magazine: !type:ContainerSlot
      gun_chamber: !type:ContainerSlot
  - type: AmmoCounter
  - type: MagazineVisuals
    magState: mag
    steps: 1
    zeroVisible: true
  - type: Appearance
  - type: StaticPrice
    price: 100 # mono
  - type: ItemTax # Mono
    taxAccounts:
      nfsd: 0.2
  - type: WieldedCrosshair
    rsi:
      sprite: _RMC14/Interface/MousePointer/pistol_mouse.rsi
      state: all
  # Goobstation edit start
  - type: EmitSoundOnPickup
    sound:
      collection: PistolsPickUp
  - type: EmitSoundOnDrop
    sound:
      collection: PistolsDrop
  - type: EmitSoundOnLand
    sound:
      collection: PistolsDrop
  # Goobstation edit end

- type: entity
  name: LWC PT-45A 蝰蛇手枪（9x19毫米口径） 丨 LWC PT-45A viper (9x19mm)
  parent: [BaseWeaponPistol, BaseC3SyndicateContraband] # Frontier: BaseSyndicateContraband<BaseC3SyndicateContraband
  id: WeaponPistolViper
  description: 一把小巧、易于隐藏但威力稍逊的改装手枪，配备全自动机匣，使用9x19毫米弹药。虽然蝮蛇枪的制造蓝图已失传，但企业战争期间留存数量极为庞大，已无需再生产新品。 丨 A small, easily concealable, but somewhat underpowered gun. Retrofitted with a fully automatic receiver. Uses 9x19mm ammo. While the schematics to build new Vipers has been lost, they are so abundant from the Corporate War that building new ones is no longer required.
  components:
  - type: Sprite
    sprite: Objects/Weapons/Guns/Pistols/viper.rsi
  - type: ItemSlots
    slots:
      gun_magazine:
        name: 杂志 丨 Magazine
        startingItem: Magazine9x19mmPistolFMJ
        insertSound: /Audio/Weapons/Guns/MagIn/pistol_magin.ogg
        ejectSound: /Audio/Weapons/Guns/MagOut/pistol_magout.ogg
        priority: 2
        whitelist:
          tags:
            - Magazine9x19mmPistolFMJ
            - Magazine9x19mmPistolHighCapacityFMJ
        whitelistFailPopup: gun-magazine-whitelist-fail
      gun_chamber:
        name: 腔室 丨 Chamber
        startingItem: Cartridge9x19mmFMJ
        priority: 1
        whitelist:
          tags:
            - Cartridge9x19mmFMJ
  - type: ContainerContainer
    containers:
      gun_magazine: !type:ContainerSlot
      gun_chamber: !type:ContainerSlot
  - type: StaticPrice # Mono - 200 from frontier 1k
    price: 200
  - type: Gun # Mono change - Sound for viper
    soundGunshot:
      path: /Audio/_Mono/Weapons/Guns/SmallArms/Gunshots/viper_fire.ogg

- type: entity
  name: LWC PT-45C 毒蛇手枪（9x19毫米） 丨 LWC PT-45C echis (9x19mm)
  parent: [ BaseItem, BaseC3SyndicateContraband ] # Frontier: BaseSyndicateContraband<BaseC3SyndicateContraband
  id: WeaponPistolEchis
  description: 一种供生化人使用的蝰蛇手枪。通过内置的弹药制造器即时生成9x19毫米子弹，该制造器可缓慢自动充能。 丨 A viper for use by cyborgs. Creates 9x19mm on the fly from an internal ammo fabricator, which slowly self-charges.
  components:
  - type: Gun
    fireRate: 5
    selectedMode: SemiAuto
    availableModes:
      - SemiAuto
      - FullAuto
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/pistol.ogg
  - type: Sprite
    sprite: Objects/Weapons/Guns/Pistols/viper.rsi
    layers:
      - state: base
        map: ["enum.GunVisualLayers.Base"]
      - state: mag-0
        map: ["enum.GunVisualLayers.Mag"]
  - type: ContainerContainer
    containers:
      ballistic-ammo: !type:Container
  - type: ProjectileBatteryAmmoProvider
    proto: Bullet9x19mmFMJ
    fireCost: 100
  - type: Battery
    maxCharge: 1000
    startingCharge: 1000
  - type: BatterySelfRecharger
    autoRecharge: true
    autoRechargeRate: 25
  - type: AmmoCounter

- type: entity
  name: LWC雇佣兵PT-45C毒蛇手枪（9x19mm） 丨 LWC mercenary PT-45C echis (9x19mm)
  parent: [ BaseItem, BaseC1Contraband ] # Frontier: BaseSyndicateContraband<BaseC3SyndicateContraband
  id: WeaponPistolMercenaryEchis
  description: 专为生化人设计的蝰蛇手枪，经重新设计以适应雇佣兵用途。通过内置弹药制造器即时生成9x19毫米弹药，该制造器可缓慢自动充能。 丨 A viper for use by cyborgs, redesigned for mercenary use. Creates 9x19mm on the fly from an internal ammo fabricator, which slowly self-charges.
  components:
  - type: Gun
    fireRate: 5
    selectedMode: SemiAuto
    availableModes:
      - SemiAuto
      - FullAuto
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/pistol.ogg
  - type: Sprite
    sprite: Objects/Weapons/Guns/Pistols/viper.rsi
    layers:
      - state: base
        map: ["enum.GunVisualLayers.Base"]
      - state: mag-0
        map: ["enum.GunVisualLayers.Mag"]
  - type: ContainerContainer
    containers:
      ballistic-ammo: !type:Container
  - type: ProjectileBatteryAmmoProvider
    proto: Bullet9x19mmFMJ
    fireCost: 100
  - type: Battery
    maxCharge: 1000
    startingCharge: 1000
  - type: BatterySelfRecharger
    autoRecharge: true
    autoRechargeRate: 25
  - type: AmmoCounter

- type: entity
  name: CS PT-72 眼镜蛇手枪（635x40mm） 丨 CS PT-72 cobra (635x40mm)
  parent: [ BaseWeaponPistol, BaseC3SyndicateContraband ] # Frontier: BaseSyndicateContraband<BaseC3SyndicateContraband
  id: WeaponPistolCobra
  description: 一把坚固耐用的特种作战手枪，内置消音器，使用6.35x40mm无壳弹药。在灰烬叛乱者中颇为常见，是登船部队或特工最常配备的制式手枪。 丨 A rugged, robust spec-ops handgun with an inbuilt silencer. Uses 6.35x40mm Caseless ammo. A common sight among Ashen Insurgents, they are the most commonly seen sidearm among boarding crews or agents.
  components:
  - type: Sprite
    sprite: Objects/Weapons/Guns/Pistols/cobra.rsi
    layers:
    - state: base
      map: ["enum.GunVisualLayers.Base"]
    - state: mag-0
      map: ["enum.GunVisualLayers.Mag"]
  - type: Clothing
    sprite: Objects/Weapons/Guns/Pistols/cobra.rsi
  - type: ChamberMagazineAmmoProvider
    boltClosed: null
  - type: Gun
    fireRate: 4
    projectileSpeed: 30 # Mono
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/silenced.ogg
      params:
        volume: -14
    availableModes:
    - SemiAuto
  - type: ItemSlots
    slots:
      gun_magazine:
        name: 杂志 丨 Magazine
        startingItem: Magazine635x40mmCaselessPistol
        insertSound: /Audio/Weapons/Guns/MagIn/pistol_magin.ogg
        ejectSound: /Audio/Weapons/Guns/MagOut/pistol_magout.ogg
        priority: 2
        whitelist:
          tags:
            - Magazine635x40mmCaselessPistol
        whitelistFailPopup: gun-magazine-whitelist-fail
      gun_chamber:
        name: 腔室 丨 Chamber
        startingItem: Cartridge635x40mmCaseless
        priority: 1
        whitelist:
          tags:
            - Cartridge635x40mmCaseless
  - type: ContainerContainer
    containers:
      gun_magazine: !type:ContainerSlot
      gun_chamber: !type:ContainerSlot

- type: entity
  name: MA Mk-58 (.45 ACP) 丨 MA Mk-58 (.45 ACP)
  parent: [BaseWeaponPistol, BaseC1Contraband] # Frontier: BaseSecurityContraband<BaseC2ContrabandUnredeemable<BaseC1Contraband to match weapon description
  id: WeaponPistolMk58
  description: 马克58进攻型手枪，整个银河系中存量最多的随身武器。常被称作企业战争残片，它曾被使用至最后一刻。使用.45 ACP弹药。 丨 The Mark 58 Offensive Handgun, the most abundant sidearm in the entire galaxy. Commonly called a Corporate War fragment, it was used until the bitter end. Uses .45 ACP ammo.
  components:
  - type: Sprite
    sprite: Objects/Weapons/Guns/Pistols/mk58.rsi
    layers:
    - state: base
      map: ["enum.GunVisualLayers.Base"]
    - state: mag-0
      map: ["enum.GunVisualLayers.Mag"]
  - type: Clothing
    sprite: Objects/Weapons/Guns/Pistols/mk58.rsi
  - type: Gun
    fireRate: 5
    availableModes:
    - SemiAuto
    soundGunshot:
      path: /Audio/_DV/Weapons/Guns/Gunshots/universal.ogg
  - type: PirateBountyItem # Frontier
    id: WeaponPistolMk58 # Frontier
  - type: ItemSlots
    slots:
      gun_magazine:
        name: 杂志 丨 Magazine
        startingItem: Magazine45_ACPPistolFMJ
        insertSound: /Audio/Weapons/Guns/MagIn/pistol_magin.ogg
        ejectSound: /Audio/Weapons/Guns/MagOut/pistol_magout.ogg
        priority: 2
        whitelist:
          tags:
            - Magazine45_ACPPistolFMJ
            - Magazine45_ACPPistolHighCapacityFMJ
        whitelistFailPopup: gun-magazine-whitelist-fail
      gun_chamber:
        name: 腔室 丨 Chamber
        startingItem: Cartridge45_ACPFMJ
        priority: 1
        whitelist:
          tags:
            - Cartridge45_ACPFMJ
  - type: StaticPrice # Mono
    price: 150

- type: entity
  name: NT N1984（.45口径马格南） 丨 NT N1984 (.45 magnum)
  parent: [BaseWeaponPistol, BaseC2ContrabandUnredeemable] # Frontier: BaseSecurityContraband<BaseC2ContrabandUnredeemable
  id: WeaponPistolN1984 # the spaces in description are for formatting.
  description: 任何一位自重的军官都会佩戴的随身武器。采用.45马格南口径，乃天选之径。握把上贴有标签，注明"仅限授权使用"。 丨 The sidearm of any self respecting officer. Comes in .45 magnum, the lord's caliber. On the handle is a label that says 'for authorized use only.'
  components:
  - type: Sprite
    sprite: Objects/Weapons/Guns/Pistols/N1984.rsi
    layers:
    - state: base
      map: ["enum.GunVisualLayers.Base"]
    - state: mag-0
      map: ["enum.GunVisualLayers.Mag"]
  - type: Clothing
    sprite: Objects/Weapons/Guns/Pistols/N1984.rsi
  - type: Gun
    minAngle: 1
    maxAngle: 20
    angleIncrease: 8
    angleDecay: 9
    fireRate: 4
    availableModes:
    - SemiAuto
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/mateba.ogg
  - type: ItemSlots
    slots:
      gun_magazine:
        name: 杂志 丨 Magazine
        startingItem: Magazine45_magnumPistolFMJ
        insertSound: /Audio/Weapons/Guns/MagIn/pistol_magin.ogg
        ejectSound: /Audio/Weapons/Guns/MagOut/pistol_magout.ogg
        priority: 2
        whitelist:
          tags:
            - Magazine45_magnumPistolFMJ
        whitelistFailPopup: gun-magazine-whitelist-fail
      gun_chamber:
        name: 腔室 丨 Chamber
        startingItem: Cartridge45_magnumFMJ
        priority: 1
        whitelist:
          tags:
            - Cartridge45_magnumFMJ
