# SPDX-FileCopyrightText: 2025 Redrover1760
# SPDX-FileCopyrightText: 2025 starch
#
# SPDX-License-Identifier: AGPL-3.0-or-later

- type: entity
  parent: SmokeGrenade # Frontier: removed BaseEngineeringContraband
  id: NanolaminateFoamGrenade
  name: '纳米层压泡沫手榴弹 | nanolaminate foam grenade'
  description: '金属泡沫手榴弹的进阶版本。该武器不再使用铝材料，而是能在广阔区域生成纳米增强合金泡沫，其抗损伤能力远超铝质泡沫。 | An advanced version of a metal foam grenade. Instead of aluminium, the foam grows a nano-reinforced alloy in a large area, capable of sustaining much more damage than aluminium.'
  components:
  - type: Sprite
    sprite: Objects/Weapons/Grenades/metalfoam.rsi
  - type: SmokeOnTrigger
    duration: 4
    spreadAmount: 17
    smokePrototype: NanolaminateFoam
  - type: StaticPrice
    price: 1500

- type: entity
  id: NanolaminateFoam
  name: '纳米层压泡沫 | nanolaminate foam'
  categories: [ HideSpawnMenu ]
  parent: MetalFoam
  components:
  - type: SpawnOnDespawn
    prototype: FoamedNanolaminateMetal

- type: entity
  id: FoamedNanolaminateMetal
  name: '发泡纳米层压板 | foamed nanolaminate'
  description: '用于密封船体裂缝。 | For sealing hull breaches.'
  parent: BaseFoamedMetal
  components:
  - type: Sprite
    drawdepth: Effects
    color: "#808e96cc"
    sprite: Effects/foam.rsi
    layers:
    - state: metal_foam
      map: ["enum.FoamVisualLayers.Base"]
    - map: [ "enum.EdgeLayer.South" ]
      state: metal_foam-south
    - map: [ "enum.EdgeLayer.East" ]
      state: metal_foam-east
    - map: [ "enum.EdgeLayer.North" ]
      state: metal_foam-north
    - map: [ "enum.EdgeLayer.West" ]
      state: metal_foam-west
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 2500
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
