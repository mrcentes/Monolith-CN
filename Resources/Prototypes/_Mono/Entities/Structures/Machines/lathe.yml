# SPDX-FileCopyrightText: 2025 Ghagliiarghii
# SPDX-FileCopyrightText: 2025 HungryCuban
# SPDX-FileCopyrightText: 2025 Onezero0
# SPDX-FileCopyrightText: 2025 Redrover1760
# SPDX-FileCopyrightText: 2025 core-mene
# SPDX-FileCopyrightText: 2025 significant harassment
# SPDX-FileCopyrightText: 2025 starch
#
# SPDX-License-Identifier: AGPL-3.0-or-later

- type: entity
  id: FactionLathe
  parent: BaseLatheLube
  name: '军用多用途组装机 | military multi-purpose assembler'
  description: '输出通过TSFMC或Rogue研发服务器研究的物品。 | Prints out items researched with TSFMC/Rogue R&D servers.'
  components:
  - type: Sprite
    sprite: Structures/Machines/techfab.rsi
    layers:
    - state: icon
      map: [ "enum.LatheVisualLayers.IsRunning" ]
    - state: unlit
      shader: unshaded
      map: [ "enum.PowerDeviceVisualLayers.Powered"]
    - state: inserting
      map: ["enum.MaterialStorageVisualLayers.Inserting"]
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: Machine
    board: MilitaryTechfabMachineCircuitboard
  - type: Lathe
    producingSound: /Audio/Machines/circuitprinter.ogg
    idleState: icon
    runningState: icon
    staticPacks:
    - StaticAmmoRecipePack
    - NFMercenaryTechfabDeprecatedStatic
    dynamicPacks:
    # rogue start
    - MonoRogueWeaponsDynamicMelee
    - MonoRogueWeaponsDynamicRanged
    - MonoRogueVouchersDynamic
    - MonoRogueMiscDynamic
    - MonoRogueGearDynamic
    - MonoRogueGearProDynamic
    # TSF start
    - MonoTSFWeaponsDynamicMelee
    - MonoTSFWeaponsDynamicRanged
    - MonoTSFVouchersDynamic
    - MonoTSFMiscDynamic
    - MonoTSFGearDynamic
    - MonoTSFStructuresDynamic
    # USSP start
    - MonoUSSPVouchersDynamic
    - MonoUSSPArmorDynamic
    - MonoUSSPMiscDynamic
    - MonoUSSPWeaponsDynamicRanged
    # Universal shit (stuff like shipgun ammo)
    - UniversalRailgunAmmo
    - UniversalMissileAmmo
    - UniversalShellAmmo
    - UniversalOrdinance
    - DynamicAmmoRecipePack
    - NFMercenaryTechfabDeprecated
    # Civ military tech
    - ResearchedExplosives
  - type: MaterialStorage
    whitelist:
      tags:
      - Sheet
      - RawMaterial
      - Ingot
  - type: RequireProjectileTarget